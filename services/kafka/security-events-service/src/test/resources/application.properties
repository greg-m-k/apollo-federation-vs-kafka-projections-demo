# Test Configuration - Uses H2 in-memory database and mock Kafka (no Docker required)

quarkus.application.name=security-events-service-test

# Use H2 in-memory database for testing
quarkus.datasource.db-kind=h2
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL

# Hibernate ORM - create schema and load test data
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=false

# Disable SQL import script in tests (we'll set up data programmatically)
quarkus.hibernate-orm.sql-load-script=no-file

# Disable the scheduler during tests (OutboxRelay)
quarkus.scheduler.enabled=false

# Mock Kafka - use in-memory connector for tests
mp.messaging.outgoing.security-badge-out.connector=smallrye-in-memory

# Logging
quarkus.log.level=WARN
quarkus.log.category."com.example".level=DEBUG
