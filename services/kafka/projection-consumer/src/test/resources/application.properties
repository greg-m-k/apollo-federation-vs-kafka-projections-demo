# Test Configuration - Uses H2 in-memory database and mock Kafka (no Docker required)

quarkus.application.name=projection-consumer-test

# Use H2 in-memory database for testing
quarkus.datasource.db-kind=h2
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL

# Hibernate ORM - create schema for tests
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=false

# Disable SQL import script in tests (we'll set up data programmatically)
quarkus.hibernate-orm.sql-load-script=no-file

# Mock Kafka - use in-memory connector for tests
mp.messaging.incoming.person-events.connector=smallrye-in-memory
mp.messaging.incoming.employee-events.connector=smallrye-in-memory
mp.messaging.incoming.badge-events.connector=smallrye-in-memory

# Logging
quarkus.log.level=WARN
quarkus.log.category."com.example".level=DEBUG
